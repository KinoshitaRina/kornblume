import{d as w,o,c as n,a as e,B as D,C as V,t as v,q as k,s as I,z as _,f as A,u as q,l as $,F as y,r as M,g as C,A as N,i as b,x as L,y as z,w as S,D as F,v as P,j as O,_ as Q}from"./index-IaBwOWBg.js";import{b as E,_ as T,f as G,s as j}from"./MaterialIcon.vue_vue_type_script_setup_true_lang-tVoQmnUf.js";import{c as U}from"./images-AjtdUFzr.js";import{s as B}from"./arcanists-DCyv3EOA.js";import{_ as H}from"./ArcanistIconDisplay.vue_vue_type_script_setup_true_lang-g_liJ5MJ.js";import{n as J}from"./stages-I6KlmFyS.js";const K=["data-tip"],W={class:"transform transition-transform duration-500 overflow-hidden relative"},X=["src"],Y=["src"],Z=e("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1),ee=w({__name:"MaterialSelectionIcon",props:{material:{type:Object,required:!0}},setup(i){const t=i,g=()=>E(t.material);return(h,p)=>(o(),n("div",{class:"tooltip relative overflow-hidden group cursor-pointer","data-tip":h.$t(g().material)},[e("div",W,[e("img",{src:g().itemImagePath,alt:"Material Image",class:"w-20 h-20 absolute transform transition-transform duration-300 group-hover:scale-125"},null,8,X),e("img",{src:g().borderImagePath,alt:"Border Image",class:"w-20 h-20"},null,8,Y),Z])],8,K))}}),te=["data-tip"],se={class:"relative inline-block"},ae=["src"],re={class:"absolute text-white bottom-0.5 right-0.5 rounded bg-gray-700 rounded-tl px-1 py-px text-xs max-w-[7.775rem] lg:max-w-[9.775rem] whitespace-nowrap overflow-hidden overflow-ellipsis"},le={class:"absolute text-white top-0.5 left-0.5 bg-gray-700 rounded px-1 py-px text-xs"},oe=w({__name:"StageIcon",props:{selectedStage:{type:Object,required:!0},stageName:{type:String,required:!0},dropRate:{type:String,required:!0}},setup(i){const t=i,g=D(),h=V(),p=()=>J(t.selectedStage,t.stageName),m=()=>{g.setSelectedStage(t.selectedStage),h.push("/stages")};return(c,x)=>(o(),n("div",{onClick:m,class:"cursor-pointer"},[e("div",{class:"tooltip","data-tip":c.$t(p().stage)},[e("div",se,[e("img",{src:p().stageImagePath,alt:"Border Image",class:"w-32 lg:w-40 rounded"},null,8,ae),e("div",re,v(c.$t(p().stage)),1),e("div",le,v(i.dropRate),1)])],8,te)]))}}),ie={key:0,class:"custom-box custom-border"},ce={class:"space-y-1"},ne={class:"text-white text-2xl font-bold py-1"},de=e("i",{class:"fa-solid fa-star"},null,-1),ue={class:"flex flex-col justify-center items-center"},me=["src"],pe={class:"text-white text-center"},ge={key:1,class:"custom-box custom-border"},he={class:"text-white"},fe={class:"flex flex-wrap gap-x-2 gap-y-1 items-center justify-center pt-4"},ve={key:2,class:"custom-box custom-border"},_e={class:"text-white"},ye={class:"custom-item-list max-h-[calc(33vh)] pt-8"},xe={key:3,class:"custom-box custom-border"},be={class:"text-white"},Me={class:"custom-item-list gap-x-2 gap-y-1 max-h-[calc(33vh)] pt-8"},$e=w({__name:"MaterialDisplay",props:{selectedMaterial:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(i){const t=i,g=k().formulas,h=k().arcanists,p=k().stages,m=I(()=>{const d=g.find(l=>l.Name===t.selectedMaterial.Name);return d?d.Material.map((l,s)=>({Material:l,Quantity:d.Quantity[s]})):[]}),c=I(()=>{if(t.selectedMaterial.Name==="Dust"){const l=h;return B(l),l}const d=h.filter(l=>l.Insight.some(s=>s.Material.includes(t.selectedMaterial.Name))||l.Resonance.some(s=>s.Material.includes(t.selectedMaterial.Name)));return B(d),d}),x=I(()=>Object.entries(p).filter(([,l])=>t.selectedMaterial.Name in l.drops).map(([l,s])=>({name:l,stage:s,dropRate:s.drops[t.selectedMaterial.Name]})).sort((l,s)=>s.dropRate-l.dropRate).map(l=>({...l,dropRate:G(l.dropRate)})));return(d,l)=>(o(),n(y,null,[t.selectedMaterial?(o(),n("div",ie,[e("div",ce,[e("h2",ne,v(t.selectedMaterial.Name),1),e("p",{class:_(["",{"text-error":t.selectedMaterial.Category===i.categories[0],"text-info":t.selectedMaterial.Category===i.categories[1],"text-success":t.selectedMaterial.Category===i.categories[2],"text-warning":t.selectedMaterial.Category===i.categories[3],"text-secondary":t.selectedMaterial.Category===i.categories[4]}])},v(t.selectedMaterial.Category),3),e("p",{class:_(["",{"text-orange-300":t.selectedMaterial.Rarity===6,"text-yellow-100":t.selectedMaterial.Rarity===5,"text-purple-400":t.selectedMaterial.Rarity===4,"text-sky-200":t.selectedMaterial.Rarity===3,"text-green-200":t.selectedMaterial.Rarity===2}])},[A(v(t.selectedMaterial.Rarity)+" ",1),de],2),e("div",ue,[e("img",{src:q(U)(t.selectedMaterial.Name),alt:"Material Image",class:"w-32 h-32"},null,8,me),e("p",pe,v(t.selectedMaterial.Description),1)])])])):$("",!0),m.value.length>0?(o(),n("div",ge,[e("h2",he,v(d.$t("wishing-spring-formula")),1),e("div",fe,[(o(!0),n(y,null,M(m.value,s=>(o(),n("div",{key:s.Material,class:"flex flex-wrap gap-x-2 gap-y-2"},[C(T,{material:s},null,8,["material"])]))),128))])])):$("",!0),x.value.length>0?(o(),n("div",ve,[e("h2",_e,v(d.$t("obtained-from-the-following-stages")),1),e("div",ye,[(o(!0),n(y,null,M(x.value,s=>(o(),N(oe,{key:s.name,selectedStage:s.stage,stageName:s.name,dropRate:s.dropRate,class:"px-2 py-1"},null,8,["selectedStage","stageName","dropRate"]))),128))])])):$("",!0),c.value.length>0?(o(),n("div",xe,[e("h2",be,v(d.$t("used-by-the-following-arcanists")),1),e("div",Me,[(o(!0),n(y,null,M(c.value,s=>(o(),N(H,{key:s.Name,arcanist:s},null,8,["arcanist"]))),128))])])):$("",!0)],64))}}),we={class:"flex gap-y-2 items-center"},ke=["placeholder"],Ie=["data-tip"],Ce=e("button",{class:"btn btn-ghost text-white"},[e("i",{class:"fa-solid fa-filter"})],-1),Ne=[Ce],Re={class:"flex justify-center space-x-2 pb-2"},Se=["onClick"],je={class:"flex flex-col justify-center flex-wrap gap-x-2 gap-y-1"},Be={class:"grid grid-cols-2 gap-x-2 gap-y-1"},De=["onClick"],qe={class:"flex justify-center"},Ve=w({__name:"MaterialFilter",props:{listItems:{type:Array,required:!0},categories:{type:Array,required:!0}},emits:["filtered"],setup(i,{emit:t}){const g=i,h=t,p=b(""),m=b([]),c=b([]),x=a=>{m.value.includes(a)?m.value=m.value.filter(u=>u!==a):m.value.push(a)},d=a=>{c.value.includes(a)?c.value=c.value.filter(u=>u!==a):c.value.push(a)},l=I(()=>{let a=g.listItems;return p.value.length>0&&(a=a.filter(u=>u.Name.toLowerCase().includes(p.value.toLowerCase()))),m.value.length>0&&(a=a.filter(u=>m.value.includes(u.Rarity))),c.value.length>0&&(a=a.filter(u=>c.value.includes(u.Category))),a}),s=()=>{h("filtered",l.value)};return(a,u)=>(o(),n("div",we,[L(e("input",{"onUpdate:modelValue":u[0]||(u[0]=r=>p.value=r),type:"text",placeholder:a.$t("search-by-name"),onInput:s,class:"input input-sm lg:w-auto bg-gray-800 text-white p-2 rounded-md focus:outline-none"},null,40,ke),[[z,p.value]]),C(q(F),{arrow:"",placement:"bottom",offsetDistance:"2"},{content:S(()=>[e("div",Re,[(o(),n(y,null,M([2,3,4,5,6],r=>e("button",{key:r,class:_([{"border-2 border-info":m.value.includes(r),"border-2 border-transparent":!m.value.includes(r)},"p-2 rounded-md"]),onClick:f=>{x(r),s()}},[e("i",{class:_(["fa-solid fa-star",{"text-orange-300":r===6,"text-yellow-100":r===5,"text-purple-400":r===4,"text-sky-200":r===3,"text-green-200":r===2}])},null,2)],10,Se)),64))]),e("div",je,[e("div",Be,[(o(!0),n(y,null,M(i.categories.slice(0,-1),(r,f)=>(o(),n("button",{key:r,class:_([[{"border-2 border-info":c.value.includes(r),"border-2 border-transparent":!c.value.includes(r)},{"text-error":f===0,"text-info":f===1,"text-success":f===2,"text-warning":f===3,"text-secondary":f===4}],"p-2 rounded-md text-sm"]),onClick:R=>{d(r),s()}},v(r),11,De))),128))]),e("div",qe,[i.categories.length>0?(o(),n("button",{key:i.categories[4],class:_([[{"border-2 border-info":c.value.includes(i.categories[4]),"border-2 border-transparent":!c.value.includes(i.categories[4])}],"w-40 p-2 rounded-md text-sm text-secondary"]),onClick:u[1]||(u[1]=r=>{d(i.categories[4]),s()})},v(i.categories[4]),3)):$("",!0)])])]),default:S(()=>[e("div",{class:"tooltip","data-tip":a.$t("filter")},Ne,8,Ie)]),_:1})]))}}),Ae={class:"wrapper"},Le={class:"container"},ze={class:"card custom-border"},Fe={class:"flex flex-wrap justify-center sm:justify-between pl-2 gap-y-2"},Pe={class:"flex flex-wrap justify-center space-x-2 gap-y-2 py-1.5"},Oe=["onClick","disabled"],Qe={class:"card custom-border h-[calc(40vh)] lg:h-[calc(66vh)]"},Ee={key:0,class:"custom-item-list"},Te={class:"container"},Ge=w({__name:"ItemsView",setup(i){const t=["Base Item","Build Material","Insight Material","Resonate Material","Ascension Material"],g=["Materials","Psychubes"],h=b(g[0]),p=k().items,m=b([]),c=b([]),x=D(),d=b(),l=a=>{d.value=a},s=a=>{c.value=a};return P(()=>{const a=p.find(u=>u.Name===x.selectedMaterial.Material);d.value=a||p[49],m.value=p.filter(u=>u.IsReleased),j(m.value,t)}),O(()=>{c.value=p.filter(a=>a.IsReleased),j(c.value,t)}),(a,u)=>(o(),n("div",Ae,[e("div",Le,[e("div",ze,[e("div",Fe,[e("div",Pe,[(o(),n(y,null,M(g,(r,f)=>e("button",{key:f,onClick:R=>h.value=r,class:_(["hover:bg-info rounded-md text-white py-1 px-3",h.value===r?"border-button":""]),disabled:f!==0},v(a.$t(r)),11,Oe)),64))]),C(Ve,{listItems:m.value,categories:t,onFiltered:s},null,8,["listItems"])])]),e("div",Qe,[h.value==="Materials"?(o(),n("div",Ee,[(o(!0),n(y,null,M(c.value,r=>{var f;return o(),N(ee,{key:r.Id,material:r,onClick:R=>l(r),class:_(((f=d.value)==null?void 0:f.Name)===r.Name?"custom-border-white":"custom-border-transparent")},null,8,["material","onClick","class"])}),128))])):$("",!0)])]),e("div",Te,[C($e,{selectedMaterial:d.value||{},categories:t},null,8,["selectedMaterial"])])]))}}),Ye=Q(Ge,[["__scopeId","data-v-c7bcfcbb"]]);export{Ye as default};
