import{u}from"./pullsRecordStore-NitPy2JK.js";import{d as p,e as m,c as g,a as e,o as h}from"./index-SqN6mGBm.js";const d=["plannerSettings","planner","wilderness","warehouse"];function b(){const o=new Date,t=o.getDate().toString().padStart(2,"0"),a=(o.getMonth()+1).toString().padStart(2,"0"),s=o.getFullYear(),r=`${t}${a}${s}`,n=o.getHours().toString().padStart(2,"0"),l=o.getMinutes().toString().padStart(2,"0"),c=`${n}${l}`;return{date:r,time:c}}function f(o){const t=new Blob([o],{type:"application/json"}),{date:a,time:s}=b(),r=`kornblume_data_${a}_${s}.json`,n=document.createElement("a");n.download=r,n.href=URL.createObjectURL(t),document.body.appendChild(n),n.click(),setTimeout(()=>document.body.removeChild(n))}function x(){const o={};d.forEach(t=>{o[t]=localStorage.getItem(t)});try{const t=JSON.stringify(o,null,2);f(t)}catch(t){console.error("Error exporting data:",t)}}function _(o){const t=new FileReader;t.onload=async a=>{var s;try{const r=JSON.parse((s=a.target)==null?void 0:s.result);d.forEach(n=>{localStorage.setItem(n,r==null?void 0:r[n])}),console.log("Import successful!"),setTimeout(()=>window.location.reload())}catch(r){console.error("Error importing data:",r)}},t.readAsText(o)}function y(){d.forEach(o=>localStorage.removeItem(o)),setTimeout(()=>window.location.reload())}const w={class:"responsive-spacer"},S=e("h2",{class:"text-2xl text-white font-bold mb-4 lg:mb-6"},"Profile",-1),k=e("p",{class:"text-white"}," You can export or import your data here.",-1),v={class:"flex justify-center items-center p-2"},D=e("h2",{class:"text-2xl text-white font-bold my-4 lg:my-6"},"Danger Zone",-1),T=e("p",{class:"text-white"},"If you encounter any unexpected issues with the site, you can reset your data. Sorry for the inconvenience.",-1),j=e("div",{class:"flex justify-center items-center p-2 space-x-10"},[e("button",{onclick:"resetTracker.showModal()",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset Tracker "),e("button",{onclick:"resetAll.showModal()",class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset Data ")],-1),I=e("p",{class:"pb-4 text-white text-center"},"Once you delete your data, there is no going back.",-1),C=e("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),E=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),R=e("p",{class:"pb-4 text-white text-center"},"Once you delete your Summon Tracker data, there is no going back.",-1),$=e("p",{class:"pb-4 text-white text-center"},"Please be certain.",-1),O=e("form",{method:"dialog",class:"modal-backdrop"},[e("button",null,"close")],-1),B=p({__name:"ProfileView",setup(o){const t=m(null),a=()=>{x()},s=()=>{var c;(c=t.value)==null||c.click()},r=c=>{const i=c.target.files[0];i&&_(i)},n=()=>{y()},l=()=>{u().reset(),window.location.reload()};return(c,i)=>(h(),g("div",w,[S,k,e("div",v,[e("button",{onClick:a,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"}," Export Data "),e("input",{type:"file",ref_key:"fileInput",ref:t,onChange:r,accept:".json",class:"ml-4",style:{display:"none"}},null,544),e("button",{onClick:s,class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-2"}," Import Data ")]),D,T,j,e("dialog",{id:"resetTracker",class:"modal"},[e("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[I,C,e("button",{onClick:l,class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset Tracker ")]),E]),e("dialog",{id:"resetAll",class:"modal"},[e("div",{class:"modal-box custom-gradient-gray-blue flex flex-col justify-center items-center"},[R,$,e("button",{onClick:n,class:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2"}," Reset All ")]),O])]))}});export{B as default};
