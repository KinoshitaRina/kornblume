import{g as k,s as w,o as l,c as n,a as e,B,C as q,t as f,q as I,z as _,e as V,u as D,l as $,F as y,r as M,f as C,A as R,i as b,x as L,y as z,w as N,D as A,v as F,j as P,_ as O}from"./index-Io24uyxV.js";import{b as Q,_ as E,f as T,s as j}from"./MaterialIcon.vue_vue_type_script_setup_true_name_ItemIcon_lang-I7EK9LQP.js";import{c as G}from"./images-u_MxoH1d.js";import{_ as U}from"./ArcanistIcon.vue_vue_type_script_setup_true_name_ArcanistIcon_lang-P2au2TvI.js";import{n as H}from"./stages-zdfdIjCu.js";const J=["data-tip"],K={class:"transform transition-transform duration-500 overflow-hidden relative"},W=["src"],X=["src"],Y=e("div",{class:"overlay absolute inset-0 bg-gray-500 opacity-0 group-hover:opacity-50 transition-opacity duration-300"},null,-1),Z=k({__name:"MaterialSelectionIcon",props:{material:{type:Object,required:!0}},setup(o){const t=o,g=w(()=>Q(t.material));return(h,p)=>(l(),n("div",{class:"tooltip relative overflow-hidden group cursor-pointer","data-tip":h.$t(g.value.material)},[e("div",K,[e("img",{src:g.value.itemImagePath,alt:"Material Image",class:"w-20 h-20 absolute transform transition-transform duration-300 group-hover:scale-125"},null,8,W),e("img",{src:g.value.borderImagePath,alt:"Border Image",class:"w-20 h-20"},null,8,X),Y])],8,J))}}),ee=["data-tip"],te={class:"relative inline-block"},se=["src"],ae={class:"absolute text-white bottom-0.5 right-0.5 rounded bg-gray-700 rounded-tl px-1 py-px text-xs max-w-[7.775rem] lg:max-w-[9.775rem] whitespace-nowrap overflow-hidden overflow-ellipsis"},re={class:"absolute text-white top-0.5 left-0.5 bg-gray-700 rounded px-1 py-px text-xs"},le=k({__name:"StageIcon",props:{selectedStage:{type:Object,required:!0},stageName:{type:String,required:!0},dropRate:{type:String,required:!0}},setup(o){const t=o,g=B(),h=q(),p=w(()=>H(t.selectedStage,t.stageName)),u=()=>{g.setSelectedStage(t.selectedStage),h.push("/stages")};return(i,x)=>(l(),n("div",{onClick:u,class:"cursor-pointer"},[e("div",{class:"tooltip","data-tip":i.$t(p.value.stage)},[e("div",te,[e("img",{src:p.value.stageImagePath,alt:"Border Image",class:"w-32 lg:w-40 rounded"},null,8,se),e("div",ae,f(i.$t(p.value.stage)),1),e("div",re,f(o.dropRate),1)])],8,ee)]))}}),oe={key:0,class:"custom-box custom-border"},ie={class:"space-y-1"},ce={class:"text-white text-2xl font-bold py-1"},ne=e("i",{class:"fa-solid fa-star"},null,-1),de={class:"flex flex-col justify-center items-center"},ue=["src"],me={class:"text-white text-center"},pe={key:1,class:"custom-box custom-border"},he={class:"text-white"},ge={class:"flex flex-wrap gap-x-2 gap-y-1 items-center justify-center"},ve={key:2,class:"custom-box custom-border"},fe={class:"text-white"},_e={class:"custom-item-list max-h-[calc(33vh)]"},ye={key:3,class:"custom-box custom-border"},xe={class:"text-white"},be={class:"custom-item-list max-h-[calc(33vh)]"},Me=k({__name:"MaterialDisplay",props:{selectedMaterial:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(o){const t=o,g=I().formulas,h=I().arcanists,p=I().stages,u=w(()=>{const m=g.find(c=>c.Name===t.selectedMaterial.Name);return m?m.Material.map((c,s)=>({Material:c,Quantity:m.Quantity[s]})):[]}),i=w(()=>t.selectedMaterial.Name==="Dust"?h:h.filter(c=>c.Insight.some(s=>s.Material.includes(t.selectedMaterial.Name))||c.Resonance.some(s=>s.Material.includes(t.selectedMaterial.Name)))),x=w(()=>Object.entries(p).filter(([,c])=>t.selectedMaterial.Name in c.drops).map(([c,s])=>({name:c,stage:s,dropRate:s.drops[t.selectedMaterial.Name]})).sort((c,s)=>s.dropRate-c.dropRate).map(c=>({...c,dropRate:T(c.dropRate)})));return(m,c)=>(l(),n(y,null,[t.selectedMaterial?(l(),n("div",oe,[e("div",ie,[e("h2",ce,f(t.selectedMaterial.Name),1),e("p",{class:_(["",{"text-error":t.selectedMaterial.Category===o.categories[0],"text-info":t.selectedMaterial.Category===o.categories[1],"text-success":t.selectedMaterial.Category===o.categories[2],"text-warning":t.selectedMaterial.Category===o.categories[3],"text-secondary":t.selectedMaterial.Category===o.categories[4]}])},f(t.selectedMaterial.Category),3),e("p",{class:_(["",{"text-orange-300":t.selectedMaterial.Rarity===6,"text-yellow-100":t.selectedMaterial.Rarity===5,"text-purple-400":t.selectedMaterial.Rarity===4,"text-sky-200":t.selectedMaterial.Rarity===3,"text-green-200":t.selectedMaterial.Rarity===2}])},[V(f(t.selectedMaterial.Rarity)+" ",1),ne],2),e("div",de,[e("img",{src:D(G)(t.selectedMaterial.Name),alt:"Material Image",class:"w-32 h-32"},null,8,ue),e("p",me,f(t.selectedMaterial.Description),1)])])])):$("",!0),u.value.length>0?(l(),n("div",pe,[e("h2",he,f(m.$t("wishing-spring-formula")),1),e("div",ge,[(l(!0),n(y,null,M(u.value,s=>(l(),n("div",{key:s.Material,class:"flex flex-wrap gap-x-2 gap-y-2"},[C(E,{material:s},null,8,["material"])]))),128))])])):$("",!0),x.value.length>0?(l(),n("div",ve,[e("h2",fe,f(m.$t("obtained-from-the-following-stages")),1),e("div",_e,[(l(!0),n(y,null,M(x.value,s=>(l(),R(le,{key:s.name,selectedStage:s.stage,stageName:s.name,dropRate:s.dropRate,class:"px-2 py-1"},null,8,["selectedStage","stageName","dropRate"]))),128))])])):$("",!0),i.value.length>0?(l(),n("div",ye,[e("h2",xe,f(m.$t("used-by-the-following-arcanists")),1),e("div",be,[(l(!0),n(y,null,M(i.value,s=>(l(),R(U,{key:s.Name,arcanist:s,class:"px-2 py-1"},null,8,["arcanist"]))),128))])])):$("",!0)],64))}}),$e={class:"flex gap-y-2 items-center"},we=["placeholder"],ke=["data-tip"],Ie=e("button",{class:"btn btn-ghost text-white"},[e("i",{class:"fa-solid fa-filter"})],-1),Ce=[Ie],Re={class:"flex justify-center space-x-2 pb-2"},Se=["onClick"],Ne={class:"flex flex-col justify-center flex-wrap gap-x-2 gap-y-1"},je={class:"grid grid-cols-2 gap-x-2 gap-y-1"},Be=["onClick"],De={class:"flex justify-center"},qe=k({__name:"MaterialFilter",props:{listItems:{type:Array,required:!0},categories:{type:Array,required:!0}},emits:["filtered"],setup(o,{emit:t}){const g=o,h=t,p=b(""),u=b([]),i=b([]),x=a=>{u.value.includes(a)?u.value=u.value.filter(d=>d!==a):u.value.push(a)},m=a=>{i.value.includes(a)?i.value=i.value.filter(d=>d!==a):i.value.push(a)},c=w(()=>{let a=g.listItems;return p.value.length>0&&(a=a.filter(d=>d.Name.toLowerCase().includes(p.value.toLowerCase()))),u.value.length>0&&(a=a.filter(d=>u.value.includes(d.Rarity))),i.value.length>0&&(a=a.filter(d=>i.value.includes(d.Category))),a}),s=()=>{h("filtered",c.value)};return(a,d)=>(l(),n("div",$e,[L(e("input",{"onUpdate:modelValue":d[0]||(d[0]=r=>p.value=r),type:"text",placeholder:a.$t("search-by-name"),onInput:s,class:"input input-sm lg:w-auto bg-gray-800 text-white p-2 rounded-md focus:outline-none"},null,40,we),[[z,p.value]]),C(D(A),{arrow:"",placement:"bottom",offsetDistance:"2"},{content:N(()=>[e("div",Re,[(l(),n(y,null,M([2,3,4,5,6],r=>e("button",{key:r,class:_([{"border-2 border-info":u.value.includes(r),"border-2 border-transparent":!u.value.includes(r)},"p-2 rounded-md"]),onClick:v=>{x(r),s()}},[e("i",{class:_(["fa-solid fa-star",{"text-orange-300":r===6,"text-yellow-100":r===5,"text-purple-400":r===4,"text-sky-200":r===3,"text-green-200":r===2}])},null,2)],10,Se)),64))]),e("div",Ne,[e("div",je,[(l(!0),n(y,null,M(o.categories.slice(0,-1),(r,v)=>(l(),n("button",{key:r,class:_([[{"border-2 border-info":i.value.includes(r),"border-2 border-transparent":!i.value.includes(r)},{"text-error":v===0,"text-info":v===1,"text-success":v===2,"text-warning":v===3,"text-secondary":v===4}],"p-2 rounded-md text-sm"]),onClick:S=>{m(r),s()}},f(r),11,Be))),128))]),e("div",De,[o.categories.length>0?(l(),n("button",{key:o.categories[4],class:_([[{"border-2 border-info":i.value.includes(o.categories[4]),"border-2 border-transparent":!i.value.includes(o.categories[4])}],"w-40 p-2 rounded-md text-sm text-secondary"]),onClick:d[1]||(d[1]=r=>{m(o.categories[4]),s()})},f(o.categories[4]),3)):$("",!0)])])]),default:N(()=>[e("div",{class:"tooltip","data-tip":a.$t("filter")},Ce,8,ke)]),_:1})]))}}),Ve={class:"wrapper"},Le={class:"container"},ze={class:"card custom-border"},Ae={class:"flex flex-wrap justify-center sm:justify-between pl-2 gap-y-2"},Fe={class:"flex space-x-2 gap-y-2 py-1.5"},Pe=["onClick","disabled"],Oe={class:"card custom-border h-[calc(40vh)] lg:h-[calc(66vh)]"},Qe={key:0,class:"custom-item-list"},Ee={class:"container"},Te=k({__name:"ItemsView",setup(o){const t=["Base Item","Build Material","Insight Material","Resonate Material","Ascension Material"],g=["Materials","Psychubes"],h=b(g[0]),p=I().items,u=b([]),i=b([]),x=B(),m=b(),c=a=>{m.value=a},s=a=>{i.value=a};return F(()=>{const a=p.find(d=>d.Name===x.selectedMaterial.Material);m.value=a||p[49],u.value=p.filter(d=>d.IsReleased),j(u.value,t)}),P(()=>{i.value=p.filter(a=>a.IsReleased),j(i.value,t)}),(a,d)=>(l(),n("div",Ve,[e("div",Le,[e("div",ze,[e("div",Ae,[e("div",Fe,[(l(),n(y,null,M(g,(r,v)=>e("button",{key:v,onClick:S=>h.value=r,class:_(["hover:bg-info rounded-md text-white py-1 px-3",h.value===r?"border-button":""]),disabled:v!==0},f(r),11,Pe)),64))]),C(qe,{listItems:u.value,categories:t,onFiltered:s},null,8,["listItems"])])]),e("div",Oe,[h.value==="Materials"?(l(),n("div",Qe,[(l(!0),n(y,null,M(i.value,r=>{var v;return l(),R(Z,{key:r.Id,material:r,onClick:S=>c(r),class:_(((v=m.value)==null?void 0:v.Name)===r.Name?"custom-border-white":"custom-border-transparent")},null,8,["material","onClick","class"])}),128))])):$("",!0)])]),e("div",Ee,[C(Me,{selectedMaterial:m.value||{},categories:t},null,8,["selectedMaterial"])])]))}}),We=O(Te,[["__scopeId","data-v-9cc1f869"]]);export{We as default};
